#include <stdio.h>
#include <time.h>
#include <string.h>
#include "takamina.h"

int solve(char* filename);
int main(){
	clock_t time = clock();
	printf("Project Euler | Problem 42 | Coded Triangle Numbers \n");

	char* filename = "words.txt";
	int rs = solve(filename);
	printf("solve(%s)=%d\n", filename,rs);

	printf("sys (%5f s)\n", (double)(clock() - time) / CLOCKS_PER_SEC);
	return 0;
}


int solve(char* filename){
	int count = 0;
	FILE* file = fopen(filename, "r");
	char* line;
	int line_len;


	while( my_getline(&line, &line_len, file) != -1 ){
		

	}



	fclose(file);
	return 0;
}



char** split(char* line, char split_char, int* len){
	if(!line ){return NULL;}
	if(!len) {return NULL;}

	*len = 1;
	int line_len = strlen(line);
	int pos = 0;
	int i = 0;


	/* find the number of words */
	for( i = 0; i < line_len; ++i){
		if( line[i] == split_char){
			*len += 1;
		}
	}

	/* Create the array  */
	int word_start = 0;
	char** array = malloc(sizeof(char*) * len);
	if( !array) {return NULL;}

	/* fill the array with the words*/
	for( i = 0 ; i < line_len ; ++i){
		if( line[i] == split_char){
			char* word = malloc( sizeof(char)* ( i - word_start +1) );
			if(!word){continue;}

			array[pos] = word;	/* extract the word */
			memcpy(word, line+i, i-word_start);
			word[i-word_start] = '\0';

			pos++; 				/* advance the position in the array */
			word_start = i+1; 	/* set the position to the start of the next word */
		}
			
	}

	return array;
}

int word_value(char* word){
	if(!word) { return 0;}
	int len = strlen(word);
	int value = 0;
	int i =0;

	for( i= 0; i < len ; ++i){

			
	}



	return 0;
}
